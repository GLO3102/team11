<div class="container">
    <div class="row">
        <% var index = 0;  %>
        <% _.each(results,function(data){ %>
        <% if (index < 4){ %>
        <% index++ %>

        <div class="col-sm-6 col-md-4 datazone ">
            <div class="thumbnail">
                <% if(data.type === "track"){ %>

                    <p class="track-type"><label id="<%= data.trackId %>" onclick="addToWatchlist(<%=data.trackId%>)" class="glyphicon glyphicon-star-empty addTo"></label><span>MOVIE</span></p>
                <% }else if(data.type === "artist"){%>
                <p class="track-type actor_ribbon">ACTOR</p>
                    <% }else if(data.type === "user"){%>
                <p class="track-type user">USER</p>
                <% }else{%>
                    <p class="track-type tvshow">TV SHOW</p>
                <% } %>
                <% if (data.type === "artist"){
                getImageActor(data.title, function(src_url){
                $('.picturezone').attr('src',src_url);
                });
                }
                %>
                <img src="<% if(data.type != 'artist'){ print(formatImageSize(data.artworkUrl100, 230))} %>"
                     class="picturezone" alt="">

                <div class="caption">
                    <h3 class="title-limit"><a href="<%=  data.url  %>" class="title-limit"> <%= data.title %></a></h3>

                    <p class="title-limit"><%= data.by %></p>
                    <p><%= data.shortDesc %></p></br>
                </div>
            </div>
        </div>
        <% } else { %>
        <% index = 0 %>
    </div>
    <div class="row">
        <% } }) %>
    </div>
</div>

<div id="modalWatchlist" class="modal fade" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">Add to watchlist</h4>
            </div>
            <div class="modal-body">
                <div id="watchlist-named">
                    <b>Select a watchlist</b>
                    <ul class="list-inline">
                        <% _.each(watchlist, function(data) { %>
                        <% if(data.owner.id === idUser){ %>
                        <li>
                            <input type="radio" name="watchlistName" value="<%= data.id %>" class="radio-watch"/> <%= data.name %>
                        </li>
                        <% } %>
                        <% }) %>
                    </ul>
                    <br>
                    <span id="idOfMovie" hidden></span>
                    <button type="button" class="btn btn-default" id="addWatchlist">Add</button><br><br>
                    <div class="alert alert-danger" id="alert-danger" hidden>
                        You <strong>can't</strong> add the same movie twice
                    </div>
                    <div class="alert alert-success" id="alert-success" hidden>
                        <strong>Success ! </strong>Your movie have been added to your watchlist
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>